# Serverless computing and Lamda

## What is Serverless Computing? <a href="#id-2383" id="id-2383"></a>



<figure><img src="https://miro.medium.com/v2/resize:fit:1400/1*Q96BmqNle0EQ2fhxUmcAsw.png" alt="" height="322" width="700"><figcaption><p>Serverless Computing — Jay Tillu</p></figcaption></figure>

Earlier we learned about Amazon EC2, a service that lets you run virtual servers in the cloud. If you have applications that you want to run in Amazon EC2, you must do the following:

1. Provision instances (virtual servers).
2. Upload your code.
3. Continue to manage the instances while your application is running.

The term “serverless” means that your code runs on servers, but you do not need to provision or manage these servers. With serverless computing, you can focus more on innovating new products and features instead of maintaining servers.

Another benefit of serverless computing is the flexibility to scale serverless applications automatically. Serverless computing can adjust the applications’ capacity by modifying the units of consumption, such as throughput and memory.

An AWS service for serverless computing is AWS Lambda.

## AWS Lambda <a href="#id-2170" id="id-2170"></a>

[AWS Lambda](https://aws.amazon.com/lambda/) is a service that lets you run code without needing to provision or manage servers. Lambda is a platform that executes your code in response to events. You write the code, and Lambda takes care of everything else: provisioning, scaling, and managing the underlying infrastructure. This frees you from server headaches, allowing you to concentrate on building innovative applications.

With Lambda, you can execute code in response to triggers such as changes to data in Amazon S3 buckets, updates to Amazon DynamoDB tables, HTTP requests via Amazon API Gateway, or custom events generated by your applications.

## Features of AWS Lambda <a href="#f91f" id="f91f"></a>

* **Serverless Computing:** Lambda abstracts away the infrastructure management tasks such as server provisioning, scaling, and maintenance. You just need to upload your code, and Lambda takes care of the rest.
* **Event-Driven Execution:** Lambda functions are triggered by various AWS services or custom events. This event-driven architecture allows you to build applications that respond to changes in real time.
* **Supported Runtimes:** Lambda supports multiple programming languages including Node.js, Python, Java, Go, .NET Core, and Ruby. This enables developers to write Lambda functions in their preferred language.
* **Scaling:** Lambda automatically scales out to handle the incoming workload. It can run multiple instances of a function in parallel to process a large number of requests simultaneously. Scaling is handled transparently without any intervention from the user.
* **Pay-Per-Use Pricing:** With Lambda, you only pay for the compute time consumed by your functions, measured in milliseconds. There are no upfront costs or minimum fees, and you’re not charged when your code is not running.
* **Integration with AWS Services:** Lambda seamlessly integrates with various AWS services, allowing you to build complex workflows and applications. For example, you can trigger Lambda functions in response to events from Amazon S3, DynamoDB, Kinesis, SQS, SNS, and more.
* **Customizable Resource Allocation:** Lambda allows you to configure the amount of memory and CPU allocated to your functions. This flexibility enables you to optimize performance and cost according to the specific requirements of your workload.

## How AWS Lambda Works? <a href="#id-8c1a" id="id-8c1a"></a>

Zoom image will be displayed

<figure><img src="https://miro.medium.com/v2/resize:fit:1400/1*cK9aPbFt7DYeagNqJ3lpfw.png" alt="" height="307" width="700"><figcaption><p>How AWS Lambda Works — Jay Tillu</p></figcaption></figure>

1. You upload your code to Lambda.
2. You set your code to trigger from an event source, such as AWS services, mobile applications, or HTTP endpoints.
3. Lambda runs your code only when triggered.
4. You pay only for the compute time that you use. In the previous example of resizing images, you would pay only for the compute time that you use when uploading new images. Uploading the images triggers Lambda to run code for the image resizing function.

## Real-World Applications of AWS Lambda <a href="#d2f8" id="d2f8"></a>

1. **Web Application Backend:** Lambda can serve as the backend for web applications, handling HTTP requests and executing business logic in response to user interactions.
2. **Data Processing:** Lambda can process and analyze data from various sources such as IoT devices, logs, and streams, enabling real-time insights and actionable intelligence.
3. **File Processing and Transformation:** Lambda can automatically process files uploaded to S3 buckets, perform transformations, and store the results in other storage services or databases.
4. **Microservices Architecture:** Lambda functions can be used to implement microservices, enabling a modular and scalable architecture that can adapt to changing business requirements.
5. **Scheduled Tasks:** Lambda functions can be triggered by scheduled events, allowing you to automate repetitive tasks such as data backups, report generation, and maintenance activities.

AWS Lambda is a compute service offered by Amazon. You must be curious as there are several other compute services from AWS, such as _**AWS EC2**_, _**AWS Elastic Beanstalk**_, **AWS Opsworks** etc., then why another compute service? In this AWS Lambda tutorial you will discover what is AWS Lambda, why it is used and in which use cases you should consider it.

Let’s see how Amazon defines AWS Lambda and then we will take a deep dive into the key concepts, understand a use case with a hands-on in the end.

## What is AWS Lambda? <a href="#id-57e3" id="id-57e3"></a>

Amazon explains AWS Lambda (λ) as a ‘serverless’ compute service, meaning the developers, don’t have to worry about which AWS resources to launch, or how will they manage them, they just put the code on lambda and it runs, it’s that simple! It helps you to focus on core-competency i.e. App Building or the code.

## Where will I use AWS Lambda? <a href="#id-98de" id="id-98de"></a>

AWS Lambda executes your backend code, by automatically managing the AWS resources. When we say ‘manage’, it includes launching or terminating instances, health checkups, auto-scaling, updating or patching new updates etc.

## So, how does it work? <a href="#id-1fe8" id="id-1fe8"></a>

The code that you want Lambda to run is known as a **Lambda function**. Now, as we know a function runs only when it is called, right? Here, **Event Source** is the entity which triggers a Lambda Function, and then the task is executed.

**Let’s take an example to understand it more clearly.**

Suppose you have an app for image uploading. Now when you upload an image, there are a lot of tasks involved before storing it, such as resizing, applying filters, compression etc.

So, this task of uploading of an image can be defined as an **Event Source** or the ‘trigger’ that will call the Lambda Function, and then all these tasks can be executed via the Lambda function.

In this example, a developer just has to define the event source and upload the code.

Let’s understand this example with real AWS resources now.

<figure><img src="https://miro.medium.com/v2/resize:fit:1400/1*z7GaVbB7JDiszDCkKEeFYg.png" alt="" height="394" width="700"><figcaption></figcaption></figure>

Over here we will be uploading images in the form of objects to an S3 bucket. This uploading an image to the S3 bucket will become an event source or the ‘trigger’.

The whole process, as you can see in the diagram, is divided into 5 steps, let’s understand each one of them.

1. User uploads an image (object) to a source bucket in S3 which has notification attached to it, for Lambda.
2. The notification is read by S3 and it decides where to send that notification.
3. S3 sends the notification to Lambda, this notification acts as an invoke call of the lambda function.
4. Execution role in Lambda can be defined by using IAM (Identity and Access Management) to give access permission for the AWS resources, for this example here it would be S3.
5. Finally, it invokes the desired lambda function which works on the object which has been uploaded to the S3 bucket.

_If you were to solve this scenario traditionally, along with development, you would have hired people for managing the following tasks:_

* Size, provision and scale up group of servers
* Managing OS updates
* Apply security patches and
* Monitor all this infrastructure for performance and availability.

This would have been an expensive, tedious and tiresome task, therefore the need for AWS Lambda is justified. AWS Lambda is compatible with Node.JS, Python and Java, so you can upload your file in a zip, define an event source and you are set!

_We now know - How Lambda works and What Lambda does_.

Now, let’s understand-

* **Where to use Lambda?**
* **What purpose does Lambda serve, that other AWS Compute services don’t?**

If you were to architect a solution to a problem, you should be able to identify where to use Lambda, right?

So, as an architect you have the following options to execute a task:

* AWS EC2
* AWS Elastic Beanstalk
* AWS OpsWorks
* AWS Lambda

Let’s take the above use case as an example and understand why we chose Lambda to solve it.

AWS OpsWorks and AWS ElasticBeanstalk are used to deploy an app, so our use case is **not** to create an app but to execute a back-end code.

### **Then why not EC2?** <a href="#id-309f" id="id-309f"></a>

If you were to use EC2, you would have to architect everything i.e. load balancer, EBS volumes, software stacks etc. In lambda you don’t have to worry about anything, just insert your code, and AWS will manage the rest!

_For example_, in EC2 you would be installing the software packages on your virtual machine which would support your code, but in Lambda you don’t have to worry about any VM, just insert plain code and Lambda will execute it for you.

But, if your code will be running for hours, and you expect a continuous stream of requests, you should probably go with EC2, because the architecture of Lambda is for a sporadic kind of workload, wherein there will be some quiet hours and some spikes in the no. of requests as well.

_For example_, logging the email activity for say a small company, would see more activity during the day than in the night, also there could be days when there are less emails to be processed, and sometimes the whole world could start emailing you! In both the cases, Lambda is at your service.

Considering this use case for a big social networking company, where the emails are never-ending because it has a huge user base, Lambda may not be the apt choice.

## **Limitations of AWS Lambda** <a href="#id-92b6" id="id-92b6"></a>

Some limitations are hardware specific and some are bound by the architecture, let’s discuss all of them.

_Hardware limitations_ include the disk size, which is limited to 512 MB, the memory can vary between 128 MB and 1536 MB. Then there are some other such as the execution timeout can be maximized to just 5 minutes, your request body payload can be not more than 6 MB and your request body is 128 KB. The request body payload is like the data that you send with a “GET” or “PUT” request in HTTP, whereas the request body would be the type of request, the headers etc.

Actually, these are not limitations but are the design boundaries which have been set in the architecture of Lambda so if your use case does not fit these, you always have the other AWS compute services at your disposal.

We discussed in this AWS Lambda Tutorial that how doing tasks in Lambda are “not” tedious and tiresome. Let’s now cover the expense part as well.

## Pricing in AWS Lambda <a href="#id-3b98" id="id-3b98"></a>

Like most of the AWS services, AWS Lambda is also a pay per use service, meaning you only pay what you use, therefore you are charged on the following parameters

* The number of **requests** that you make to your lambda function
* The **duration** for which your code executes.

**Requests**

1. You are charged for the number of requests that you make across all your lambda functions.

2\. AWS Lambda counts a request each time it starts executing in response to an event source or invoke call, including test is invoked from the console. Let’s look at the prices now:

* First 1 million requests, every month are for free.
* 0.20$ per million requests thereafter.

**Duration**

1. Duration is calculated from the moment your code starts executing till the moment it returns or terminates, it is rounded up to the nearest 100ms.

2\. The price depends on the amount of memory you allocate to your function, you are charged $0.00001667 for every GB-second used.

_\* Source: AWS official website_

If you have reached till here you are all set for a Hands-on in Lambda. Let’s have some fun!

## Hands-on: AWS Lambda DIY <a href="#ce56" id="ce56"></a>

Let’s create a Lambda function which will log “An object has been added” once you add an object to a specific bucket in S3.

**Step1:** From the AWS Management Console under compute section, select **AWS Lambda**.

<figure><img src="https://miro.medium.com/v2/resize:fit:1400/1*M3ukoUsvb07rBKiVFb0TLQ.png" alt="" height="425" width="700"><figcaption></figcaption></figure>

**Step2:** On the AWS Lambda Console, click on “**Create a Lambda function**”.

<figure><img src="https://miro.medium.com/v2/resize:fit:1400/1*U4D2gk6puK9mz63GnCiqcA.png" alt="" height="389" width="700"><figcaption></figcaption></figure>

**Step3:** On the next page, you have to select a blueprint. For example, we will be selecting the blank function for our use-case.

<figure><img src="https://miro.medium.com/v2/resize:fit:1400/1*EXns_ZHaModxzP5O0cEJZg.png" alt="" height="458" width="700"><figcaption></figcaption></figure>

**Step4:** On the next page you will be (1) setting a trigger, since we are going to work on S3, (2) select the S3 trigger and then (3) click Next

<figure><img src="https://miro.medium.com/v2/resize:fit:1400/1*IgkFsgKESQnp-PYmR5hYPw.png" alt="" height="221" width="700"><figcaption></figcaption></figure>

**Step5:** On the configuration page, **fill in the details**. You can put your own code, or you can copy the same code from this use-case. After that, fill the **handler** and **role**, leave the advanced settings as it is, in the end **click next**.

<figure><img src="https://miro.medium.com/v2/resize:fit:1400/1*js1UT7Ae0ZWCedfkdeHliA.png" alt="" height="309" width="700"><figcaption></figcaption></figure>

<figure><img src="https://miro.medium.com/v2/resize:fit:1400/1*fnoS9oF7FeHkk-ai9gIN2A.png" alt="" height="252" width="700"><figcaption></figcaption></figure>

<figure><img src="https://miro.medium.com/v2/resize:fit:1400/1*74taPAapRMonedNu81o0BQ.png" alt="" height="42" width="700"><figcaption></figcaption></figure>

**Step6:** On the next page, review all the information, and click on “Create function”.

<figure><img src="https://miro.medium.com/v2/resize:fit:788/1*4bTfdrEBWMzic9rezP6D-w.png" alt="" height="55" width="394"><figcaption></figcaption></figure>

**Step7:** Now, since we created the function for S3 bucket, the moment you add a file to your S3 bucket, you should get a log for the same in CloudWatch, which is a monitoring service from AWS.

<figure><img src="https://miro.medium.com/v2/resize:fit:1400/1*TNkIzICH9WMg5lA4FNt9Ug.png" alt="" height="195" width="700"><figcaption></figcaption></figure>



The cloud has revolutionized how we build and deploy applications. However, managing servers can still be a task. Traditional server-based architectures often create challenges in managing infrastructure, scaling applications, and optimizing costs. However, with the birth of serverless computing, developers now have a powerful tool to address these challenges effectively.

At the forefront of serverless computing stands AWS Lambda, a service provided by Amazon Web Services (AWS) that enables you to run code without provisioning or managing servers. In this blog post, we’ll delve into the world of AWS Lambda, exploring its features, benefits, and real-world applications.

## &#x20;<a href="#id-2383" id="id-2383"></a>
